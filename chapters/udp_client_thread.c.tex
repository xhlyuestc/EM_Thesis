\noindent
\ttfamily
\hlstd{}\hllin{01\ }\hlkwc{private\ }\hlstd{}\hlkwb{void\ }\hlstd{}\hlkwd{myUdpClient\textunderscore Load}\hlstd{}\hlopt{(}\hlstd{object\ sender}\hlopt{,\ }\hlstd{EventArgs\ e}\hlopt{)}\\
\hllin{02\ }\hlstd{}\hlopt{\{}\\
\hllin{03\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlslc{//程序启动时创建UDP接收线程}\\
\hllin{04\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{thread1\ }\hlopt{=\ }\hlstd{}\hlkwa{new\ }\hlstd{}\hlkwd{Thread}\hlstd{}\hlopt{(}\hlstd{}\hlkwa{new\ }\hlstd{}\hlkwd{ThreadStart}\hlstd{}\hlopt{(}\hlstd{ReceiveMessage}\hlopt{));}\\
\hllin{05\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{thread1}\hlopt{.}\hlstd{}\hlkwd{Start}\hlstd{}\hlopt{();}\\
\hllin{06\ }\hlstd{}\hlopt{\}}\\
\hllin{07\ }\hlstd{}\\
\hllin{08\ }\hlkwc{private\ }\hlstd{}\hlkwb{void\ }\hlstd{}\hlkwd{BtnSend\textunderscore Click}\hlstd{}\hlopt{(}\hlstd{object\ sender}\hlopt{,\ }\hlstd{EventArgs\ e}\hlopt{)}\\
\hllin{09\ }\hlstd{}\hlopt{\{}\\
\hllin{10\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlslc{//单击按钮时创建UDP发送线程}\\
\hllin{11\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{thread2\ }\hlopt{=\ }\hlstd{}\hlkwa{new\ }\hlstd{}\hlkwd{Thread}\hlstd{}\hlopt{(}\hlstd{SendMessage}\hlopt{);}\\
\hllin{12\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{thread2}\hlopt{.}\hlstd{}\hlkwd{Start}\hlstd{}\hlopt{();}\\
\hllin{13\ }\hlstd{}\hlopt{\}}\hlstd{}\\
\mbox{}
\normalfont
\normalsize
