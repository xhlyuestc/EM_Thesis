\normalfont
\noindent
%\ttfamily
\hlstd{}\hllin{01\ }\hlkwb{void\ }\hlstd{}\hlkwd{key\textunderscore nvic\textunderscore init}\hlstd{}\hlopt{(}\hlstd{}\hlkwb{void}\hlstd{}\hlopt{)}\\
\hllin{02\ }\hlstd{}\hlopt{\{}\\
\hllin{03\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{NVIC\textunderscore InitTypeDef\ NVIC\textunderscore InitStructure}\hlopt{;}\\
\hllin{04\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlslc{//使能按键所在的外部中断通道}\\
\hllin{05\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{NVIC\textunderscore InitStructure}\hlopt{.}\hlstd{NVIC\textunderscore IRQChannel\ }\hlopt{=\ }\hlstd{EXTI15\textunderscore 10\textunderscore IRQn}\hlopt{;}\\
\hllin{06\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlslc{//先占优先级4位,共16级}\\
\hllin{07\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{NVIC\textunderscore InitStructure}\hlopt{.}\hlstd{NVIC\textunderscore IRQChannelPreemptionPriority\ }\hlopt{=\ }\hlstd{}\hlnum{0x02}\hlstd{}\hlopt{;}\\
\hllin{08\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlslc{//先占优先级0位,从优先级4位}\\
\hllin{09\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{NVIC\textunderscore InitStructure}\hlopt{.}\hlstd{NVIC\textunderscore IRQChannelSubPriority\ }\hlopt{=\ }\hlstd{}\hlnum{0x02}\hlstd{}\hlopt{;}\\
\hllin{10\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlslc{//使能外部中断通道}\\
\hllin{11\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{NVIC\textunderscore InitStructure}\hlopt{.}\hlstd{NVIC\textunderscore IRQChannelCmd\ }\hlopt{=\ }\hlstd{ENABLE}\hlopt{;\ }\\
\hllin{12\ }\hlstd{}\hlstd{\ \ \ \ }\hlstd{}\hlkwd{NVIC\textunderscore Init}\hlstd{}\hlopt{(\&}\hlstd{NVIC\textunderscore InitStructure}\hlopt{);}\\
\hllin{13\ }\hlstd{}\hlopt{\}}\hlstd{}
\mbox{}
\normalfont
\normalsize
